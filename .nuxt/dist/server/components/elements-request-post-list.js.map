{"version":3,"file":"components/elements-request-post-list.js","sources":["webpack:///./components/elements/RequestPostList.vue?9328","webpack:///./components/elements/RequestPostList.vue","webpack:///./components/elements/RequestPostList.vue?e03e","webpack:///./components/elements/RequestPostList.vue?656e"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex mb-3 bg-white rounded border-l-4 shadow\",class:{ 'border-primary-600': !!_vm.post.requested_at }},[_vm._ssrNode(\"<div class=\\\"flex flex-1 p-3\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"w-20 md:w-32 lg:w-40\\\">\",\"</div>\",[_c('v-img',{staticClass:\"block w-full rounded\",attrs:{\"src\":_vm.post.hero.thumb || _vm.$images.hero.thumb,\"src-placeholder\":_vm.$images.hero.thumb,\"alt\":_vm.post.title}})],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"flex-1 pl-3\\\">\",\"</div>\",[_vm._ssrNode(\"<p class=\\\"fort-semibold text-xs\\\">\"+_vm._ssrEscape(\"Diedit \"+_vm._s(_vm.updateago))+\"</p> <h3 class=\\\"font-semibold\\\">\"+_vm._ssrEscape(_vm._s(_vm.post.title))+\"</h3> \"+((_vm.post.category)?(\"<span class=\\\"bold bg-primary-100 text-primary-600 inline-block px-1 text-xs font-semibold rounded\\\">\"+_vm._ssrEscape(_vm._s(_vm.post.category.name))+\"</span>\"):\"<!---->\")+\" <p class=\\\"mb-3 text-xs\\\">\"+_vm._ssrEscape(\"Dibuat pada \"+_vm._s(_vm._f(\"moment\")(_vm.post.created_at,'dddd, Do MMMM YYYY')))+\"</p> \"),_vm._ssrNode(\"<div class=\\\"flex\\\">\",\"</div>\",[_c('nuxt-link',{staticClass:\"hover:bg-primary-600 bg-primary-100 text-primary-600 flex justify-center items-center py-2 w-24 text-sm font-semibold leading-none rounded hover:text-white\",attrs:{\"to\":((_vm.type.toLowerCase()) + \"s/\" + (_vm.post.id))}},[_vm._v(\"Edit\")]),_vm._ssrNode(\" <button type=\\\"button\\\"\"+(_vm._ssrAttr(\"disabled\",_vm.loading))+\" class=\\\"disabled:opacity-60 flex justify-center items-center py-2 ml-3 w-24 text-sm font-semibold leading-none text-white bg-red-600 rounded hover:bg-red-700\\\">\"+_vm._ssrEscape(_vm._s(_vm.loading ? 'Menghapus...' : 'Hapus'))+\"</button>\")],2)],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    post: {\n      type: Object,\n      required: true,\n      default: () => ({}),\n    },\n    type: {\n      type: String,\n      default: 'Video',\n    },\n  },\n  data() {\n    return {\n      updatedAt: '',\n      interval: null,\n      loading: false,\n    }\n  },\n  computed: {\n    description() {\n      if (this.post.description && this.post.description.length > 255) {\n        return this.post.description.substring(0, 255) + '...'\n      }\n      return this.post.description\n    },\n    updateago() {\n      if (this.updatedAt) {\n        return this.updatedAt\n      }\n      return this.$moment(this.post.updated_at).fromNow()\n    },\n  },\n  mounted() {\n    if (!this.interval) {\n      this.interval = setInterval(() => {\n        this.updatedAt = this.$moment(this.post.updated_at).fromNow()\n      }, 1000)\n    }\n  },\n  destroyed() {\n    if (this.interval) clearInterval(this.interval)\n  },\n  methods: {\n    handleDelete() {\n      this.loading = true\n      this.$toast.confirm.danger(\n        async () => {\n          const url = `/minitutor/request-${this.type.toLowerCase()}s/${this.post.id}`\n          try {\n            await this.$axios.$delete(url)\n            this.$emit('destroyed', this.post.id)\n            this.$toast.success(`${this.type} telah dihapus.`)\n          } catch (e) {\n            this.$toast.danger(this.$errorMessage(e))\n          }\n          this.loading = false\n        },\n        () => {\n          this.loading = false\n        },\n        { message: `Anda yakin ingin menghapus ${this.type} ini?` }\n      )\n    },\n  },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestPostList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestPostList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RequestPostList.vue?vue&type=template&id=6923ec86&\"\nimport script from \"./RequestPostList.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestPostList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"1f2a4c48\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AANA;AACA;AAUA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAbA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AArBA;AA3CA;;ACtBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}