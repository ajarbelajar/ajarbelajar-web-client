{"version":3,"file":"pages/minitutors/index.js","sources":["webpack:///./pages/minitutors/index.vue?ab03","webpack:///./pages/minitutors/index.vue","webpack:///./pages/minitutors/index.vue?f1b2","webpack:///./pages/minitutors/index.vue?51e3","webpack:///./components/elements/FollowToggle.vue?01e8","webpack:///./components/elements/FollowToggle.vue","webpack:///./components/elements/FollowToggle.vue?144c","webpack:///./components/elements/FollowToggle.vue?bc07","webpack:///./components/elements/MinitutorList.vue?fb24","webpack:///./components/elements/MinitutorList.vue","webpack:///./components/elements/MinitutorList.vue?81df","webpack:///./components/elements/MinitutorList.vue?16ee"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_vm._ssrNode(\"<div class=\\\"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4\\\">\",\"</div>\",_vm._l((_vm.data),function(item){return _c('elements-minitutor-list',{key:item.minitutor.id,attrs:{\"minitutor\":item.minitutor,\"user\":item.user}})}),1),_vm._ssrNode(\" \"),_c('client-only',[_c('infinite-loading',{on:{\"infinite\":_vm.infiniteHandler}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'Minitutors',\n  async asyncData({ $axios, error }) {\n    try {\n      return await $axios.$get(`/minitutors`)\n    } catch (e) {\n      return error(e)\n    }\n  },\n  head: {\n    title: 'MiniTutor'\n  },\n  methods: {\n    infiniteHandler($state) {\n      /* eslint-disable camelcase */\n      this.$axios\n        .$get(`/minitutors?page=${this.current_page ? this.current_page + 1 : 1}`)\n        .then(({ data, next_page_url, current_page }) => {\n          this.data = [...this.data, ...data]\n          this.next_page_url = next_page_url\n          this.current_page = current_page\n          $state.loaded()\n          if(this.next_page_url === null) {\n            $state.complete()\n          }\n        })\n        .catch((e) => {\n          $state.error()\n        })\n    },\n  },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1fff7d92&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"a24ae250\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {ElementsMinitutorList: require('C:/xampp/htdocs/ab/nuxt/components/elements/MinitutorList.vue').default})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"disabled:opacity-50 inline-flex justify-center items-center font-semibold text-white rounded\",class:{ 'bg-primary-600 hover:bg-primary-700': !_vm.followed, 'bg-red-600 hover:bg-red-700': _vm.followed, 'h-6 text-xs px-2': _vm.small, 'h-8 text-sm px-3': !_vm.small },attrs:{\"type\":\"button\",\"disabled\":_vm.loading},on:{\"click\":function($event){$event.preventDefault();return _vm.handleClick.apply(null, arguments)}}},[_vm._ssrNode(_vm._ssrEscape(\"\\n  \"+_vm._s(_vm.text)+\"\\n\"))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'FollowToggle',\n  props: {\n    mid: {\n      type: Number,\n      required: true,\n      default: 0,\n    },\n    small: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      loading: false,\n    }\n  },\n  computed: {\n    followed() {\n      return this.$store.getters.auth.followings.includes(this.mid)\n    },\n    text() {\n      if (this.followed) {\n        return 'Berhenti Mengikuti'\n      }\n      return 'Ikuti MiniTutor'\n    },\n  },\n  methods: {\n    async handleClick() {\n      this.loading = true\n      try {\n        const url = `/follow/${this.mid}`\n        let followings = [...this.$store.getters.auth.followings]\n        if (!this.followed) {\n          await this.$axios.$post(url)\n          followings = [...followings, this.mid]\n          this.$toast.success(`Berhasil mengikuti MiniTutor.`)\n        } else {\n          await this.$axios.$delete(url)\n          const data = []\n          followings.forEach((id) => {\n            if (id !== this.mid) data.push(id)\n          })\n          followings = data\n          this.$toast.success(`Berhasil berhenti mengikuti MiniTutor.`)\n        }\n        this.$store.commit('auth/setAuth', { ...this.$store.getters.auth, followings })\n      } catch (e) {\n        this.$toast.danger(this.$errorMessage(e))\n      }\n      this.loading = false\n    },\n  },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowToggle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowToggle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowToggle.vue?vue&type=template&id=76085b49&\"\nimport script from \"./FollowToggle.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowToggle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"52220b8c\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"border-primary-600 overflow-hidden relative bg-white rounded border-t-4 shadow\"},[_vm._ssrNode(((_vm.user.website)?(\"<div class=\\\"absolute top-0 right-0 p-3 text-center\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.user.website))+\" target=\\\"_blank\\\" class=\\\"text-primary-600 flex justify-center items-center w-7 h-7 font-bold tracking-wider leading-none bg-gray-100 rounded border hover:shadow\\\"><i class=\\\"ft ft-globe\\\"></i></a></div>\"):\"<!---->\")+\" \"),_vm._ssrNode(\"<div class=\\\"p-3 pt-6\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"flex flex-col justify-center items-center mb-2\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"p-1 mb-1 w-20 bg-white rounded-full border\\\">\",\"</div>\",[_c('v-img',{staticClass:\"w-full rounded-full\",attrs:{\"src\":_vm.user.avatar || _vm.$images.avatar,\"src-placeholder\":_vm.$images.avatar}})],1),_vm._ssrNode(\" <span class=\\\"text-primary-600 block p-1 text-xs font-bold leading-none bg-gray-100 rounded border\\\">\"+_vm._ssrEscape(_vm._s(_vm.user.points)+\" POIN\")+\"</span>\")],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<h4 class=\\\"truncate font-bold leading-none text-center capitalize\\\">\",\"</h4>\",[_c('nuxt-link',{attrs:{\"to\":(\"/minitutors/\" + (_vm.user.username))}},[_vm._v(_vm._s(_vm.user.name))])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"truncate mb-3 text-sm font-semibold text-center text-gray-500\\\">\",\"</div>\",[_c('nuxt-link',{attrs:{\"to\":(\"/minitutors/\" + (_vm.user.username))}},[_vm._v(\"@\"+_vm._s(_vm.user.username))])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"mb-3 text-center\\\">\",\"</div>\",[(_vm.$store.getters.auth)?_c('elements-follow-toggle',{attrs:{\"mid\":_vm.minitutor.id,\"small\":\"\"}}):_vm._e()],1),_vm._ssrNode(\" \"+((!_vm.noCounter)?(\"<div class=\\\"grid grid-cols-3\\\"><div class=\\\"text-center\\\"><span class=\\\"block text-lg font-bold\\\">\"+_vm._ssrEscape(_vm._s(_vm.minitutor.article_count))+\"</span> <span class=\\\"block text-xs font-semibold text-gray-500 uppercase\\\">Pengikut</span></div> <div class=\\\"text-center\\\"><span class=\\\"block text-lg font-bold\\\">\"+_vm._ssrEscape(_vm._s(_vm.minitutor.article_count))+\"</span> <span class=\\\"block text-xs font-semibold text-gray-500 uppercase\\\">Artikel</span></div> <div class=\\\"text-center\\\"><span class=\\\"block text-lg font-bold\\\">\"+_vm._ssrEscape(_vm._s(_vm.minitutor.video_count))+\"</span> <span class=\\\"block text-xs font-semibold text-gray-500 uppercase\\\">Video</span></div></div>\"):\"<!---->\"))],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"p-3 bg-gray-100\\\">\",\"</div>\",[_c('nuxt-link',{staticClass:\"hover:bg-primary-700 bg-primary-600 flex justify-center items-center px-4 h-8 text-sm font-semibold leading-none text-center text-white rounded\",attrs:{\"to\":(\"/minitutors/\" + (_vm.user.username))}},[_vm._v(\"Lihat MiniTutor\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'MinitutorList',\n  props: {\n    user: {\n      type: Object,\n      default: () => ({})\n    },\n    minitutor: {\n      type: Object,\n      default: () => ({})\n    },\n    noCounter: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MinitutorList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MinitutorList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MinitutorList.vue?vue&type=template&id=0753eeae&\"\nimport script from \"./MinitutorList.vue?vue&type=script&lang=js&\"\nexport * from \"./MinitutorList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"1d25ba78\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {ElementsFollowToggle: require('C:/xampp/htdocs/ab/nuxt/components/elements/FollowToggle.vue').default})\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAlBA;AAZA;;ACZA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrBA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AANA;AACA;AAUA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAVA;AAWA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAzBA;AA7BA;;ACbA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClBA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AATA;AAFA;;AC7CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}