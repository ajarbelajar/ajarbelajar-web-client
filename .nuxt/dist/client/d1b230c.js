(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{508:function(t,e,r){"use strict";r.r(e);r(30),r(16),r(25),r(39),r(18),r(40);var n=r(10),o=r(3),l=(r(15),r(133)),c=r.n(l);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"MyDashboard",middleware:"auth",data:function(){return{loading:!1}},head:function(){return{title:"Dasbor"}},computed:{auth:function(){return this.$store.getters.auth},links:function(){return[{text:"Aktifitas",icon:"activity",to:"/dashboard/me"},{text:"Edit Profil",icon:"settings",to:"/dashboard/me/edit"},{text:"Diikuti",icon:"user-check",to:"/dashboard/me/followings"},{text:"Favorit",icon:"heart",to:"/dashboard/me/favorites"}]}},methods:{handleClick:function(){this.$refs.input.click()},handleChange:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,data,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,r.prev=1,n=t.target.files[0],(data=new c.a).append("avatar",n),r.next=7,e.$axios.$post("/account/avatar",data);case 7:o=r.sent,l=o.url,e.$store.commit("auth/setAuth",f(f({},e.auth),{},{avatar:l})),e.$toast.success("Foto anda telah diupdate."),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),e.$toast.danger(e.$errorMessage(r.t0));case 16:e.loading=!1;case 17:case"end":return r.stop()}}),r,null,[[1,13]])})))()}}},v=r(4),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-3"},[r("div",{staticClass:"overflow-hidden bg-white rounded shadow"},[r("div",{staticClass:"flex py-5 px-4"},[r("div",{staticClass:"relative p-1 w-16 rounded-full border"},[r("v-img",{staticClass:"block w-full rounded-full",attrs:{src:t.auth.avatar,"src-placeholder":t.$images.avatar}}),t._v(" "),r("div",{staticClass:"flex absolute bottom-0 left-0 justify-center w-full transform translate-y-2/4"},[r("button",{staticClass:"text-primary-600 flex justify-center items-center w-7 h-7 bg-white rounded-full border hover:bg-gray-200",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return e.preventDefault(),t.handleClick.apply(null,arguments)}}},[t.loading?r("svg-spinner",{staticClass:"w-4"}):r("i",{staticClass:"ft ft-image"})],1),t._v(" "),r("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:"image/*"},on:{change:t.handleChange}})])],1),t._v(" "),r("div",{staticClass:"flex-1 pl-4 my-auto"},[r("h2",{staticClass:"truncate text-lg font-semibold leading-none"},[t._v(t._s(t.auth.name))]),t._v(" "),r("p",{staticClass:"truncate text-sm leading-none"},[t._v("@"+t._s(t.auth.username))])]),t._v(" "),r("div",{staticClass:"pl-4 my-auto"},[r("span",{staticClass:"bg-primary-100 flex justify-center items-center px-5 h-9 rounded-full"},[r("span",{staticClass:"text-primary-600 block text-sm font-bold md:text-base"},[t._v("\n            "+t._s(t.auth.points)+" Poin\n          ")])])])]),t._v(" "),r("div",{staticClass:"border-top flex border-t"},t._l(t.links,(function(link,i){return r("div",{key:i,staticClass:"first:border-l-0 flex flex-1 border-l"},[r("nuxt-link",{staticClass:"border-b-transparent border-primary-600 flex flex-1 justify-center items-center py-3 text-center hover:bg-gray-100",attrs:{to:link.to,"exact-active-class":"border-b-4 pb-2 bg-gray-100"}},[r("span",{staticClass:"block md:pr-3 md:text-xl"},[r("i",{class:"ft ft-"+link.icon})]),t._v(" "),r("span",{staticClass:"hidden font-semibold md:block"},[t._v("\n            "+t._s(link.text)+"\n          ")])])],1)})),0)]),t._v(" "),r("nuxt-child")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SvgSpinner:r(340).default})}}]);