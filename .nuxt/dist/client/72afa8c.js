(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{465:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(15),n(16),n(44),n(62),n(49),{props:{post:{type:Object,required:!0,default:function(){return{}}},type:{type:String,default:"Video"}},data:function(){return{updatedAt:"",interval:null,loading:!1}},computed:{description:function(){return this.post.description&&this.post.description.length>255?this.post.description.substring(0,255)+"...":this.post.description},updateago:function(){return this.updatedAt?this.updatedAt:this.$moment(this.post.updated_at).fromNow()}},mounted:function(){var t=this;this.interval||(this.interval=setInterval((function(){t.updatedAt=t.$moment(t.post.updated_at).fromNow()}),1e3))},destroyed:function(){this.interval&&clearInterval(this.interval)},methods:{handleDelete:function(){var t=this;this.loading=!0,this.$toast.confirm.danger(Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/minitutor/request-".concat(t.type.toLowerCase(),"s/").concat(t.post.id),e.prev=1,e.next=4,t.$axios.$delete(n);case 4:t.$emit("destroyed",t.post.id),t.$toast.success("".concat(t.type," telah dihapus.")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$toast.danger(t.$errorMessage(e.t0));case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),(function(){t.loading=!1}),{message:"Anda yakin ingin menghapus ".concat(this.type," ini?")})}}}),d=n(4),component=Object(d.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex mb-3 bg-white rounded border-l-4 shadow",class:{"border-primary-600":!!t.post.requested_at}},[n("div",{staticClass:"flex flex-1 p-3"},[n("div",{staticClass:"w-20 md:w-32 lg:w-40"},[n("v-img",{staticClass:"block w-full rounded",attrs:{src:t.post.hero.thumb||t.$images.hero.thumb,"src-placeholder":t.$images.hero.thumb,alt:t.post.title}})],1),t._v(" "),n("div",{staticClass:"flex-1 pl-3"},[n("p",{staticClass:"fort-semibold text-xs"},[t._v("Diedit "+t._s(t.updateago))]),t._v(" "),n("h3",{staticClass:"font-semibold"},[t._v(t._s(t.post.title))]),t._v(" "),t.post.category?n("span",{staticClass:"bold bg-primary-100 text-primary-600 inline-block px-1 text-xs font-semibold rounded"},[t._v(t._s(t.post.category.name))]):t._e(),t._v(" "),n("p",{staticClass:"mb-3 text-xs"},[t._v("Dibuat pada "+t._s(t._f("moment")(t.post.created_at,"dddd, Do MMMM YYYY")))]),t._v(" "),n("div",{staticClass:"flex"},[n("nuxt-link",{staticClass:"hover:bg-primary-600 bg-primary-100 text-primary-600 flex justify-center items-center py-2 w-24 text-sm font-semibold leading-none rounded hover:text-white",attrs:{to:t.type.toLowerCase()+"s/"+t.post.id}},[t._v("Edit")]),t._v(" "),n("button",{staticClass:"disabled:opacity-60 flex justify-center items-center py-2 ml-3 w-24 text-sm font-semibold leading-none text-white bg-red-600 rounded hover:bg-red-700",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return e.preventDefault(),t.handleDelete.apply(null,arguments)}}},[t._v(t._s(t.loading?"Menghapus...":"Hapus"))])],1)])])])}),[],!1,null,null,null);e.default=component.exports}}]);